<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>

<title>Design System & Framework Designer — Jesse Rego</title>

<!-- ✅ SEO -->
<link rel="canonical" href="https://jesserego.me/"/>
<meta name="description" content="Jesse Rego — Design System & Framework Designer. Federated systems, tokens, components, and scalable product UX."/>
<meta name="robots" content="index,follow"/>
<meta name="theme-color" content="#007AFF"/>
<meta name="color-scheme" content="light dark"/>

<!-- ✅ Open Graph / Twitter -->
<meta property="og:title" content="Jesse Rego — Design System & Framework Designer"/>
<meta property="og:site_name" content="Jesse Rego"/>
<meta property="og:description" content="Systems-minded designer bridging design systems, UI platforms, and product teams."/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://jesserego.me/"/>
<meta property="og:image" content="https://jesserego.com/images/projects/wd_image_01.png"/>
<meta name="twitter:card" content="summary_large_image"/>

<!-- ✅ Icons (replace with your own when ready) -->
<link rel="icon" href="https://jesserego.com/favicon.png" sizes="any"/>
<link rel="apple-touch-icon" href="https://jesserego.com/apple-touch-icon.png"/>

<!-- (Optional) Privacy-friendly analytics: uncomment to use Plausible
<script defer data-domain="jesserego.me" src="https://plausible.io/js/script.js"></script>
-->

<!-- Fonts preconnect (Inter loads only when a theme uses it) -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<style>
  :root{
    --sans:-apple-system,"SF Pro Text","SF Pro Display",system-ui,"Segoe UI",Roboto,Arial,sans-serif;
    --fg:#0B0D12; --bg:#FBFBFD; --accent:#007AFF;
    --outline: color-mix(in oklab, var(--fg) 18%, transparent);
    --rail-w:220px; --container:min(1100px, calc(100vw - var(--rail-w) - 10vw));
    --grid-minor: color-mix(in oklab, var(--fg) 14%, transparent);
    --grid-major: color-mix(in oklab, var(--fg) 24%, transparent);
  }
  *{box-sizing:border-box}
  html{scroll-padding-top:12px}
  body{margin:0;font:400 16px/1.6 var(--sans);color:var(--fg);background:var(--bg);overflow-x:hidden}

  /* background parallax haze */
  .bg-parallax{position:fixed;inset:0;z-index:0;pointer-events:none;
    background:
      radial-gradient(1200px 800px at 20% 30%, color-mix(in oklab, var(--accent) 10%, transparent), transparent 60%),
      radial-gradient(900px 700px at 80% 75%, color-mix(in oklab, var(--fg) 6%, transparent), transparent 60%);
    transform:translateY(0); will-change:transform;
  }

  /* grid (50px minors, 250px majors), aligned to content column */
  .grid-overlay{position:fixed;inset:0;pointer-events:none;z-index:9999;opacity:0;transition:opacity .2s ease}
  .grid-overlay::before,
  .grid-overlay::after{content:"";position:absolute;inset:0;background-position: var(--grid-x, 0px) 0}
  .grid-overlay::before{background-image: repeating-linear-gradient(90deg, var(--grid-minor) 0 1px, transparent 1px 50px);opacity:.12}
  .grid-overlay::after{background-image: repeating-linear-gradient(90deg, transparent 0 249px, var(--grid-major) 249px 251px);opacity:.18}

  /* left rail + brand */
  .rail{position:fixed;inset:0 auto 0 0;width:var(--rail-w);padding:24px 18px;display:flex;gap:14px;flex-direction:column;z-index:3;background:transparent}
  .brand{display:flex;align-items:center;text-decoration:none;color:inherit;gap:0;height:28px;position:relative}
  .brand-initial{font:500 24px/1 var(--sans);margin-right:.06em}
  .brand-name{letter-spacing:.1px;font:500 20px/1.1 var(--sans);width:0;opacity:0;overflow:hidden;white-space:nowrap;transition:width .36s cubic-bezier(.2,.8,.2,1),opacity .36s ease,letter-spacing .36s ease}
  .brand:hover .brand-name{width:8.1ch;opacity:1;letter-spacing:.2px}
  .brand-spacer{height:6px;width:1px}

  .rail-nav{display:flex;flex-direction:column;gap:8px}
  .rail-link{padding:2px 0;text-decoration:none;color:inherit;transition:color .15s ease}
  .rail-link:hover,.rail-link.is-active{color:var(--accent)}

  main{margin-left:var(--rail-w);position:relative;z-index:1}
  .container{width:var(--container);margin:0 auto}
  .section{min-height:100svh;display:flex;align-items:center;padding:64px 0}

  .kicker{color:var(--accent);font:900 clamp(28px,3.4vw,40px)/1.15 var(--sans);letter-spacing:.2px;margin:0 0 10px}
  .subtext{margin:0 0 24px;color:color-mix(in oklab,var(--fg) 70%, transparent)}

  /* hero */
  .hero-grid{display:grid;grid-template-columns:1fr;gap:28px;align-items:center}
  .hero-title{color:var(--accent);font-weight:900;font-size:clamp(48px, 8.6vw, 90px);line-height:1.03;margin:0}
  .hero-lede{max-width:72ch;margin-top:12px;font:400 clamp(18px,2.2vw,22px)/1.55 var(--sans);opacity:.9}

  /* bottom-left controls */
  .controls{position:fixed;left:16px;bottom:16px;z-index:4;display:grid;gap:10px}
  .control-btn{width:52px;min-height:52px;padding:10px;display:grid;place-items:center;border-radius:12px;
    background:color-mix(in oklab, var(--bg) 85%, transparent); border:1px solid var(--outline); color:var(--fg); cursor:pointer}
  .control-btn:hover{background:color-mix(in oklab, var(--bg) 80%, var(--fg) 2%)}
  .control-btn svg{width:28px;height:28px}
  .theme-menu{position:relative;display:grid;gap:8px;margin-top:2px}
  .theme-menu[hidden]{display:none}
  .theme-menu button{all:unset;display:grid;place-items:center;width:44px;min-height:44px;border-radius:12px;border:1px solid var(--outline);background:color-mix(in oklab,var(--bg) 90%, transparent);cursor:pointer;color:var(--fg)}
  .theme-menu button:hover{background:color-mix(in oklab,var(--bg) 82%, var(--fg) 3%)}
  .theme-menu svg{width:20px;height:20px}

  .text-link{color:var(--accent);text-decoration:underline;text-underline-offset:3px;font-weight:600}

  /* Work (case studies) */
  .cases-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
  .case{display:flex;flex-direction:column;gap:14px;padding:18px;border-radius:16px;background:#fff;box-shadow:0 10px 30px rgba(0,0,0,.08)}
  .case-visual img{width:100%;height:auto;max-height:300px;object-fit:cover;border-radius:12px;border:none}
  .case-title{margin:0 0 6px;font:800 20px/1.2 var(--sans)}
  .case-meta{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px 12px;list-style:none;margin:8px 0 6px;padding:0}
  .case-meta li strong{font-weight:800}
  .case-highlights{list-style:disc inside;margin:6px 0 10px;padding:0;opacity:.9}
  .case-text{display:flex;flex-direction:column;min-height:120px}
  .case-actions{margin-top:auto;display:flex;gap:8px;align-items:flex-end}

  /* Archive */
  .archive-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:22px;align-items:stretch}
  .card{border-radius:14px;background:#fff;box-shadow:0 6px 20px rgba(0,0,0,.08);overflow:hidden;display:flex;flex-direction:column}
  .card img{width:100%;height:190px;object-fit:cover}
  .card-body{padding:14px;display:grid;gap:6px}
  .card h4{margin:0;font:800 16px/1.25 var(--sans)}
  .card p{margin:0 0 6px;opacity:.9}

  /* About */
  .about p{margin:0 0 14px;max-width:78ch}
  .about-two{display:grid;grid-template-columns:auto 1fr;gap:24px;align-items:start}
  .avatar{width:140px;height:140px;border-radius:50%;background:linear-gradient(135deg, #eee, #ddd);border:1px solid var(--outline);box-shadow:0 8px 26px rgba(0,0,0,.08)}
  .about-quad{display:grid;grid-template-columns:repeat(4,1fr);gap:18px;margin-top:22px}
  .about-card{border:1px solid var(--outline);border-radius:14px;padding:14px;background:color-mix(in oklab,var(--bg) 96%, transparent)}
  .about-card h3{margin:0 0 8px;font:800 16px/1.2 var(--sans)}
  .tool-chips{list-style:none;margin:8px 0 0;padding:0;display:flex;flex-wrap:wrap;gap:8px}
  .tool-chips li{border:1px solid var(--outline);border-radius:999px;padding:6px 10px;font:600 12px/1 var(--sans);background:color-mix(in oklab,var(--bg) 96%, transparent)}

  /* About SVG wrapper */
  .flow-figure{position:relative;border-radius:0;overflow:visible;margin:28px 0 0}
  .flow-svg{display:block;width:100%;height:auto}

  /* Contact */
  .contact-form{padding:0;border-radius:0;background:transparent;box-shadow:none}
  .field{display:grid;gap:6px;margin:10px 0}
  .field input,.field textarea{width:100%;border:1px solid var(--outline);border-radius:12px;padding:10px 12px;font:400 14px/1.45 var(--sans);background:transparent;color:var(--fg)}
  .field textarea{min-height:140px;resize:vertical}

  /* reveals on scroll */
  .reveal{opacity:0;transform:translateY(14px);transition:opacity .5s ease, transform .5s ease}
  .reveal.in{opacity:1;transform:none}

  /* Mobile menu (glassy) */
  .hamburger{position:fixed;top:12px;right:12px;left:auto;z-index:7;width:44px;height:44px;border-radius:10px;display:none;place-items:center;background:transparent;border:0;cursor:pointer;color:var(--fg)}
  .hamburger span{display:block;width:24px;height:0;background:none;position:relative;transition:transform .28s cubic-bezier(.2,.8,.2,1)}
  .hamburger span::before,.hamburger span::after{content:"";position:absolute;left:0;width:24px;height:2px;background:currentColor;border-radius:2px;transition:transform .28s cubic-bezier(.2,.8,.2,1), top .28s cubic-bezier(.2,.8,.2,1), opacity .2s ease}
  .hamburger span::before{top:-5px}.hamburger span::after{top:5px}
  .hamburger.open span::before{top:0;transform:rotate(45deg)}
  .hamburger.open span::after{top:0;transform:rotate(-45deg)}

  .mobile-menu{position:fixed;inset:0;z-index:6;display:grid;grid-template-rows:auto 1fr;opacity:0;pointer-events:none;
    background:color-mix(in oklab, var(--bg) 65%, #fff 35%);backdrop-filter:saturate(180%) blur(18px);transform:translateY(8%);
    transition:opacity .28s cubic-bezier(.2,.8,.2,1), transform .42s cubic-bezier(.2,.8,.2,1)}
  .mobile-menu header{display:flex;justify-content:flex-end;padding:12px 12px}
  .mobile-menu .body{display:flex;align-items:center;justify-content:center}
  .mobile-menu nav{display:flex;flex-direction:column;gap:10px;align-items:center}
  .mobile-menu a{font:700 28px/1.2 var(--sans);text-decoration:none;color:var(--fg);transition:transform .18s ease}
  .mobile-menu a:active{transform:scale(.98)}
  body.nav-open .mobile-menu{opacity:1;transform:translateY(0);pointer-events:auto}

  @media (max-width:1100px){
    .archive-grid{grid-template-columns:repeat(2,1fr)}
    .cases-grid{grid-template-columns:1fr}
  }
  @media (max-width:1024px){
    .hamburger{display:grid}
    .rail{transform:translateX(-100%);transition:transform .3s cubic-bezier(.2,.8,.2,1)}
    body.nav-open .rail{transform:translateX(-100%)}
    main{margin-left:0}
    .container{width:min(920px, calc(100vw - 8vw))}
    .about-quad{grid-template-columns:repeat(2,1fr)}
    .about-two{grid-template-columns:1fr}
  }
  @media (max-width:620px){
    .archive-grid{grid-template-columns:1fr}
    .about-quad{grid-template-columns:1fr}
  }
</style>
</head>
<body>
  <div class="bg-parallax" aria-hidden="true"></div>
  <div class="grid-overlay" aria-hidden="true"></div>

  <aside class="rail">
    <a class="brand" href="#home"><span class="brand-initial">J</span><span class="brand-name" aria-hidden="true">esse Rego</span></a>
    <div class="brand-spacer" aria-hidden="true"></div>
    <nav class="rail-nav">
      <a class="rail-link is-active" href="#home">Home</a>
      <a class="rail-link" href="#about">About</a>
      <a class="rail-link" href="#work">Work</a>
      <a class="rail-link" href="#archive">Archive</a>
      <a class="rail-link" href="#contact">Contact</a>
    </nav>
  </aside>

  <!-- mobile menu trigger -->
  <button class="hamburger" aria-label="Open navigation" aria-expanded="false"><span></span></button>
  <div class="mobile-menu" id="mobileMenu" hidden>
    <header></header>
    <div class="body">
      <nav>
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#work">Work</a>
        <a href="#archive">Archive</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </div>

  <!-- bottom-left controls -->
  <div class="controls">
    <div class="theme-wrap">
      <button id="themeLauncher" class="control-btn" aria-expanded="false" title="Themes">
        <!-- palette icon -->
        <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 3a9 9 0 0 0-9 9c0 3.1 1.6 5.3 4.4 5.3c.8 0 1.4-.2 1.9-.6c.5-.4.7-1 .7-1.6c0-.9-.4-1.6-1.3-2c-.6-.3-1-.9-1-1.6c0-1.1.9-2 2-2h5.5c1.6 0 2.8 1.3 2.8 2.9c0 1.6-1.2 2.6-2.7 2.6h-.7c-.7 0-1.3.6-1.3 1.3c0 1.5 1.4 2.3 3.5 2.3c3.4 0 5.2-2.4 5.2-5.7C22 7 17.8 3 12 3z"/></svg>
      </button>
      <div id="themeMenu" class="theme-menu" hidden>
        <!-- Apple -->
        <button data-theme="apple" title="Apple" aria-label="Apple">
          <svg viewBox="0 0 256 256"><path fill="currentColor" d="M180 130c0-30 24-40 24-40s-13-25-43-25c-18 0-33 10-41 10s-22-10-36-10C60 65 38 87 38 122c0 37 28 77 46 77 10 0 20-7 29-7s20 7 31 7c16 0 46-34 46-69zM169 30c-12 8-21 21-20 35c14 1 28-8 35-19c8-12 9-24 9-24s-17 0-24 8z"/></svg>
        </button>
        <!-- Netflix -->
        <button data-theme="netflix" title="Netflix" aria-label="Netflix">
          <svg viewBox="0 0 256 256"><rect width="180" height="200" x="38" y="28" rx="8" fill="#E50914"/><path d="M80 48h28l68 160h-28z" fill="#B20710"/><path d="M80 48h28v160H80z" fill="#000" opacity=".25"/></svg>
        </button>
        <!-- Workday -->
        <button data-theme="workday" title="Workday" aria-label="Workday">
          <svg viewBox="0 0 256 256"><path d="M40 160a88 88 0 0 1 176 0" fill="none" stroke="#2557FF" stroke-width="20" stroke-linecap="round"/><rect x="48" y="160" width="160" height="20" rx="10" fill="#2557FF"/></svg>
        </button>
        <!-- Figma -->
        <button data-theme="figma" title="Figma" aria-label="Figma">
          <svg viewBox="0 0 256 256">
            <circle cx="96" cy="64" r="40" fill="#F24E1E"/><circle cx="160" cy="64" r="40" fill="#FF7262"/>
            <circle cx="96" cy="128" r="40" fill="#A259FF"/><circle cx="160" cy="128" r="40" fill="#1ABCFE"/>
            <circle cx="96" cy="192" r="40" fill="#0ACF83"/>
          </svg>
        </button>
      </div>
    </div>
    <!-- grid toggle -->
    <button id="gridToggle" class="control-btn" aria-pressed="false" title="Toggle grid (G)">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M3 3h18v2H3V3zm0 6h18v2H3V9zm0 6h18v2H3v-2z"/></svg>
    </button>
  </div>

  <main>
    <!-- HERO -->
    <section id="home" class="section">
      <div class="container hero-grid">
        <div>
          <h1 class="hero-title">Design System & Framework Designer</h1>
          <p class="hero-lede">I design and scale product systems—tokens, components, accessibility standards, and reusable patterns—so teams ship faster with higher quality across complex platforms.</p>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section about">
      <div class="container">
        <h2 class="kicker">About</h2>
        <p class="subtext">Systems-minded designer bridging design systems, UI platforms, and product teams.</p>

        <div class="about-two">
          <div class="avatar" aria-label="Avatar placeholder"></div>
          <div>
            <p>I’ve spent 15+ years delivering creative solutions across global markets, thriving in the space between innovation and execution. My focus is building full-scale, responsive product experiences that are thoughtful, accessible, and scalable. From early sketches to prototypes and production systems, I care about outcomes that endure in real-world use.</p>
            <p>For the last eight years I’ve specialized in federated design systems—aligning tooling, accessibility, tokens, components, and governance across complex ecosystems. I bridge maintainers and feature teams to build shared ownership and scalable adoption, partnering closely with engineering, marketing, HR, and executives to tie design decisions to business results.</p>
            <p>Leading a marketing & advertising team sharpened how I communicate design’s impact on strategy, hiring, perception, and retention. I tailor rationale for each audience—from engineers to the C-suite. At my core I’m a systems thinker who loves craft: mentoring designers, building systems, and prototyping future patterns to strengthen the practice and connect disciplines across the org.</p>
          </div>
        </div>

        <!-- Responsive animated SVG -->
        <figure class="flow-figure" role="img" aria-label="Product designer as a bridge between Design System, UI Platform, and Product Teams">
          <!-- (SVG omitted here for brevity — keep the animated SVG from the previous message) -->
        </figure>

        <div class="about-quad">
          <div class="about-card">
            <h3>Visual Design</h3>
            <p>Visual design is where it all began for me—my gateway into the creative world. I got my start in print, where precision mattered and every pixel, point, and pica had a purpose. That foundation gave me a deep respect for structure, hierarchy, and craftsmanship.</p>
            <ul class="tool-chips"><li>Figma</li><li>Photoshop</li><li>Illustrator</li></ul>
          </div>
          <div class="about-card">
            <h3>UX / Interaction Design</h3>
            <p>I capture behavior clearly—patterns, edge cases, and responsive logic—through annotated wireframes, embedded prototypes, or component specs to ensure a smooth handoff and alignment.</p>
            <ul class="tool-chips"><li>Figma</li></ul>
          </div>
          <div class="about-card">
            <h3>Front End</h3>
            <p>I design with platform constraints in mind—APIs, data structures, and frameworks—to build resilient systems that scale across large products.</p>
            <ul class="tool-chips"><li>HTML5</li><li>JS</li><li>CSS</li></ul>
          </div>
          <div class="about-card">
            <h3>Motion Design</h3>
            <p>Lightweight motion and 3D to create moments that grab attention while staying performant and accessible.</p>
            <ul class="tool-chips"><li>Cinema 4D</li><li>After Effects</li></ul>
          </div>
        </div>
      </div>
    </section>

    <!-- WORK (Selected) -->
    <section id="work" class="section">
      <div class="container">
        <h2 class="kicker">Work</h2>
        <p class="subtext">Selected case studies demonstrating systems thinking, adoption, and measurable impact.</p>
        <div class="cases-grid">
          <!-- 6 cases (unchanged) -->
        </div>
      </div>
    </section>

    <!-- ARCHIVE -->
    <section id="archive" class="section">
      <div class="container">
        <h2 class="kicker">Archive</h2>
        <p class="subtext">Additional work—audits, RFCs, and migrations that supported system adoption.</p>
        <div class="archive-grid reveal">
          <!-- archive cards (unchanged) -->
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section">
      <div class="container">
        <h2 class="kicker">Contact</h2>
        <p class="subtext">Tell me about your team, goals, and timing—let’s see how I can help.</p>
        <form id="contactForm" class="contact-form" novalidate>
          <label class="field">Name
            <input name="name" type="text" required placeholder="Your name"/>
          </label>
          <label class="field">Message
            <textarea name="message" id="message" required placeholder="Project, timeline, constraints…"></textarea>
          </label>
          <button type="submit" class="control-btn" style="width:auto;min-height:auto;padding:10px 14px">Send</button>
        </form>
      </div>
    </section>
  </main>

<script>
/* subtle parallax */
(function(){
  const layer=document.querySelector('.bg-parallax');
  function tick(){ layer.style.transform = `translateY(${(-scrollY*0.06).toFixed(2)}px)`; }
  addEventListener('scroll', tick, {passive:true}); tick();
})();

/* grid toggle + align to content */
(function(){
  const gridEl=document.querySelector('.grid-overlay');
  const GRID_KEY='jr:grid';
  function refreshGridColors(){
    const style=getComputedStyle(document.documentElement);
    const fg=style.getPropertyValue('--fg').trim()||'#0B0D12';
    document.documentElement.style.setProperty('--grid-minor', `color-mix(in oklab, ${fg} 14%, transparent)`);
    document.documentElement.style.setProperty('--grid-major', `color-mix(in oklab, ${fg} 24%, transparent)`);
  }
  function setGrid(on){
    gridEl.style.opacity=on?'.18':'0';
    try{localStorage.setItem(GRID_KEY,on?'1':'0')}catch(e){}
    document.getElementById('gridToggle').setAttribute('aria-pressed',on?'true':'false');
  }
  function align(){
    const c=document.querySelector('.container'); if(!c) return;
    document.documentElement.style.setProperty('--grid-x', c.getBoundingClientRect().left+'px');
  }
  align(); addEventListener('resize',align); addEventListener('orientationchange',align);
  refreshGridColors();
  let on=false; try{on=(localStorage.getItem(GRID_KEY)||'0')==='1'}catch(e){}
  setGrid(on);
  document.getElementById('gridToggle').addEventListener('click',()=>setGrid(!(gridEl.style.opacity>0)));
  addEventListener('keydown',e=>{ if((e.key||'').toLowerCase()==='g') setGrid(!(gridEl.style.opacity>0)) });
  addEventListener('theme:changed', refreshGridColors);
})();

/* springy left-rail nav (iOS-like) */
(function(){
  const links=[...document.querySelectorAll('.rail-link')];
  const sections=links.map(a=>document.querySelector(a.getAttribute('href'))).filter(Boolean);
  const prefersReduced=matchMedia('(prefers-reduced-motion: reduce)');
  let raf=0, scrollingProgrammatically=false;

  function springTo(target){
    const top=Math.max(0, target.getBoundingClientRect().top + scrollY - 12);
    if(prefersReduced.matches){
      scrollingProgrammatically=true; scrollTo({top,behavior:'auto'});
      setTimeout(()=>scrollingProgrammatically=false,80); return;
    }
    let y=scrollY, v=0, stiffness=0.02, damping=0.19, last=performance.now();
    const min=0, max=Math.max(0, document.documentElement.scrollHeight - innerHeight);
    function stop(){ cancelAnimationFrame(raf); raf=0; setTimeout(()=>scrollingProgrammatically=false,80); }
    function step(now){
      const dt=Math.min(34, now-last); last=now;
      const x=y-top; const a=-stiffness*x - damping*v; v+=a*dt; y+=v*dt;
      y=Math.max(min, Math.min(max, y));
      scrollingProgrammatically=true;
      scrollTo(0,y);
      if(Math.abs(x)>0.5 || Math.abs(v)>0.03){ raf=requestAnimationFrame(step); }
      else { stop(); }
    }
    cancelAnimationFrame(raf); raf=requestAnimationFrame(step);
    const cancel=()=>stop();
    addEventListener('wheel', cancel, {once:true, passive:true});
    addEventListener('touchstart', cancel, {once:true, passive:true});
  }

  links.forEach(a=>{
    const href=a.getAttribute('href')||''; if(!href.startsWith('#')) return;
    a.addEventListener('click',e=>{
      const el=document.querySelector(href); if(!el) return;
      e.preventDefault(); e.stopPropagation(); springTo(el); history.replaceState(null,'',href);
    });
  });

  const io=new IntersectionObserver(entries=>{
    if(scrollingProgrammatically) return;
    entries.forEach(en=>{
      if(en.isIntersecting){
        const id='#'+en.target.id;
        links.forEach(a=>a.classList.toggle('is-active', a.getAttribute('href')===id));
      }
    });
  },{root:null,threshold:0.6,rootMargin:"-40% 0px -40% 0px"});
  sections.forEach(s=>io.observe(s));
})();

/* mobile glass menu */
(function(){
  const btn=document.querySelector('.hamburger');
  const menu=document.getElementById('mobileMenu');
  const body=document.body;
  function setOpen(open){
    body.classList.toggle('nav-open', open);
    btn.classList.toggle('open', open);
    btn.setAttribute('aria-expanded', open?'true':'false');
    if(open){ menu.removeAttribute('hidden'); } else { menu.setAttribute('hidden',''); }
  }
  btn.addEventListener('click',()=>setOpen(!body.classList.contains('nav-open')));
  addEventListener('keydown',e=>{ if(e.key==='Escape') setOpen(false); });
  menu.addEventListener('click',e=>{ if(e.target.tagName==='A'){ setOpen(false);} });
})();

/* reveal on scroll */
(function(){
  const els=[...document.querySelectorAll('.reveal')];
  const io=new IntersectionObserver(entries=>{
    entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target); } });
  },{threshold:.12});
  els.forEach(el=>io.observe(el));
})();

/* theme switcher (hover to open) */
(function(){
  const wrap=document.querySelector('.theme-wrap');
  const launcher=document.getElementById('themeLauncher');
  const menu=document.getElementById('themeMenu');
  const CAN_HOVER = matchMedia('(hover:hover)').matches;

  const THEMES={
    apple:{bg:'#FBFBFD',fg:'#0B0D12',accent:'#007AFF',card:'#FFFFFFC0',glass:true,radius:18,shadow:'0 10px 30px rgba(0,0,0,.08)',font:'-apple-system,"SF Pro Text","SF Pro Display",system-ui,"Segoe UI",Roboto,Arial,sans-serif',fontlink:null},
    netflix:{bg:'#141414',fg:'#F4F4F4',accent:'#E50914',card:'#1F1F1F',glass:false,radius:8,shadow:'0 6px 20px rgba(0,0,0,.35)',font:'"Helvetica Neue",Arial,system-ui,sans-serif',fontlink:null},
    workday:{bg:'#F7F9FC',fg:'#0B0D12',accent:'#2557FF',card:'#FFFFFF',glass:false,radius:12,shadow:'0 6px 18px rgba(0,0,0,.10)',font:'Inter,system-ui,"Segoe UI",Arial,sans-serif',fontlink:'https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap'},
    figma:{bg:'#2C2C2C',fg:'#F5F5F5',accent:'#18A0FB',card:'#3A3A3A',glass:false,radius:10,shadow:'0 8px 24px rgba(0,0,0,.35)',font:'Inter,system-ui,"Segoe UI",Arial,sans-serif',fontlink:'https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap'}
  };
  function applyTheme(name){
    const t=THEMES[name]||THEMES.apple, root=document.documentElement;
    root.style.setProperty('--bg',t.bg); root.style.setProperty('--fg',t.fg); root.style.setProperty('--accent',t.accent);
    root.style.setProperty('--outline',`color-mix(in oklab, ${t.fg} 18%, transparent)`); root.style.setProperty('--sans',t.font);
    if(t.fontlink && !document.querySelector(`link[href="${t.fontlink}"]`)){
      const l=document.createElement('link'); l.rel='stylesheet'; l.href=t.fontlink; document.head.appendChild(l);
    }
    document.querySelectorAll('.case,.about-card,.card').forEach(el=>{
      el.style.borderRadius=`${t.radius}px`; el.style.boxShadow=t.shadow;
      if(t.glass){
        el.style.background='color-mix(in oklab,#ffffff 70%, transparent)';
        el.style.backdropFilter='saturate(180%) blur(20px)';
        el.style.webkitBackdropFilter='saturate(180%) blur(20px)';
      } else {
        el.style.background=t.card; el.style.backdropFilter=''; el.style.webkitBackdropFilter='';
      }
    });
    document.body.style.background=t.bg; document.body.style.color=t.fg;
    dispatchEvent(new CustomEvent('theme:changed'));
  }
  applyTheme('apple');

  function show(){ launcher.setAttribute('aria-expanded','true'); menu.removeAttribute('hidden'); }
  function hide(){ launcher.setAttribute('aria-expanded','false'); menu.setAttribute('hidden',''); }

  if(CAN_HOVER){
    wrap.addEventListener('mouseenter', show);
    wrap.addEventListener('mouseleave', hide);
  }else{
    launcher.addEventListener('click',()=>{
      const open=menu.hasAttribute('hidden'); if(open) show(); else hide();
    });
    addEventListener('click',e=>{ if(!wrap.contains(e.target)) hide(); });
  }

  menu.addEventListener('click',e=>{
    const btn=e.target.closest('button[data-theme]'); if(!btn) return;
    applyTheme(btn.getAttribute('data-theme')); hide();
  });
})();

/* simple mailto for contact */
document.getElementById('contactForm').addEventListener('submit',e=>{
  e.preventDefault();
  const name=e.target.elements.name?.value||"", msg=e.target.elements.message?.value||"";
  const body=encodeURIComponent(msg+"\n\n— "+name);
  location.href="mailto:hello@jesserego.com?subject=Project inquiry&body="+body;
});

/* align grid to content column on load */
(function(){const c=document.querySelector('.container'); if(!c) return; document.documentElement.style.setProperty('--grid-x', c.getBoundingClientRect().left+'px');})();
</script>
</body>
</html>
